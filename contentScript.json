// contentScript.js
// We'll listen for a message like "EXTRACT_ARTICLE" from the popup.
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
    if (request.action === "EXTRACT_ARTICLE") {
      const articleData = extractArticle();
      sendResponse(articleData);
    }
    return true; // to indicate asynchronous if needed
});
  
  function extractArticle() {
    // Example approach: look for <article> tag
    let articleEl = document.querySelector("article");
    let text = "";
    let title = document.title; // fallback to doc title if needed
  
    if (articleEl) {
      text = articleEl.innerText || "";
    } else {
        // fallback if no <article> found
      text = document.body.innerText.slice(0,
        5000); // limit text size
    }
  
    return { title, text
    };
}