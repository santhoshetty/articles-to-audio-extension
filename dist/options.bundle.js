(()=>{document.addEventListener("DOMContentLoaded",async()=>{let o=await chrome.storage.local.get(["openaiKey"]);o.openaiKey&&(document.getElementById("openaiKey").value=o.openaiKey),document.getElementById("saveBtn").addEventListener("click",async()=>{let e=document.getElementById("openaiKey").value.trim();if(!e){a("Please enter both API keys","error");return}try{await chrome.storage.local.set({openaiKey:e}),a("API keys saved successfully!","success")}catch(s){a("Error saving API keys. Please try again.","error")}});function a(e,s){let t=document.getElementById("status");t.textContent=e,t.className=`status ${s}`,t.style.display="block",setTimeout(()=>{t.style.display="none"},3e3)}let n=document.getElementById("openaiKey");chrome.storage.local.get(["openaiKey"],e=>{e.openaiKey&&(n.value=e.openaiKey)}),n.addEventListener("change",()=>{chrome.storage.local.set({openaiKey:n.value})})});})();
